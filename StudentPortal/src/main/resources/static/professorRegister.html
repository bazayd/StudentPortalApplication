<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="styles.css">
    <meta charset="UTF-8">
    <title>Professor Register</title>
</head>
<body>
    <ul>
        <li class="home"><a href="/">Home</a></li>
        <li class="active dropdown">
            <a href="javascript:void(0)" class="dropbtn">Register</a>
            <div class="dropdown-content">
              <a href="/studentRegister">Student Register</a>
              <a href="/professorRegister">Professor Register</a>
            </div>
        </li>
        <li class="active dropdown">
            <a href="javascript:void(0)" class="dropbtn">Login</a>
            <div class="dropdown-content">
              <a href="/studentLogin">Student Login</a>
              <a href="/professorLogin">Professor Login</a>
            </div>
        </li>
        <li class="dropdown">
          <a href="javascript:void(0)" class="dropbtn">Professor</a>
          <div class="dropdown-content">
            <a href="/admin">Control Panel</a>
            <a href="/professorMessaging">Messaging</a>
          </div>
        </li>
        <li class="dropdown">
            <a href="javascript:void(0)" class="dropbtn">Student</a>
            <div class="dropdown-content">
                <a href="/courses">Register</a>
                <a href="/messages">Inbox</a>
                <a href="/courseHistory">Course History</a>
            </div>
        </li>
        <li style="float:right"><a id="UserName"></a></li>
        <li style="float:right"><a id="UserID"></a></li>
    </ul>
        
    <h1>Create Your Professor Account</h1>
    <form id="professorRegisterForm">
        <label for="Name">Full Name:</label>
        <input type="text" id="Name" name="Name"><br><br>
        <label for="Department">Department:</label>
        <input type="text" id="Department" name="Department"><br><br>
        <label for="Password">Password:</label>
        <input type="text" id="Password" name="Password"><br><br>
        <button type="submit">Register</button>
    </form>
    <body>
        <span id="resultMessage"></span>
    </body>

    <script>
        document.getElementById("professorRegisterForm").addEventListener("submit", async function(e) {
            e.preventDefault();

            const formData = new FormData(this);
            const data = Object.fromEntries(formData);
            const urlData = new URLSearchParams(data);

            const response = await fetch("/professor-register", {
                method: "POST",
                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                body: urlData
            });

            const result = await response.json();
            document.getElementById("resultMessage").textContent = "Successfully Created Your Account! Your ID is: "+result;
        });
    </script>
    <script src="session.js"></script>
    <script>populateUserData()</script>
    <script src="session.js"></script>
</body>
</html>